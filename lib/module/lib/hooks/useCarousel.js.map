{"version":3,"sources":["useCarousel.js"],"names":["useCallback","useMemo","useState","sortImages","images","filter","disabled","sort","a","b","position","useCarousel","startIndex","activeItemIndex","setActiveItemIndex","sortedImages","handlePrevious","prevIndex","length","handleNext","api","state"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,OAAtB,EAA+BC,QAA/B,QAA+C,OAA/C;;AAEA,MAAMC,UAAU,GAAG,CAACC,MAAM,GAAG,EAAV,KACfA,MAAM,CACDC,MADL,CACY,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB,CAACA,QAD/B,EAEKC,IAFL,CAEU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,QAAF,GAAaD,CAAC,CAACC,QAFnC,CADJ;AAKA;;;;;;;;AAMA,OAAO,MAAMC,WAAW,GAAG,CAACP,MAAM,GAAG,EAAV,EAAcQ,UAAU,GAAG,CAA3B,KAAiC;AACxD,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCZ,QAAQ,CAACU,UAAD,CAAtD;AAEA,QAAMG,YAAY,GAAGd,OAAO,CAAC,MAAME,UAAU,CAACC,MAAD,CAAjB,EAA2B,CAACA,MAAD,CAA3B,CAA5B;AAEA,QAAMY,cAAc,GAAGhB,WAAW,CAAC,MAAM;AACrC;AACAc,IAAAA,kBAAkB,CAACG,SAAS,IAAI;AAC5B,UAAIA,SAAS,GAAG,CAAhB,EAAmB;AACf,eAAOA,SAAS,GAAG,CAAnB;AACH,OAFD,MAEO;AACH,eAAOb,MAAM,CAACc,MAAP,GAAgB,CAAvB;AACH;AACJ,KANiB,CAAlB;AAOH,GATiC,EAS/B,CAACd,MAAD,CAT+B,CAAlC;AAWA,QAAMe,UAAU,GAAGnB,WAAW,CAAC,MAAM;AACjC;AACAc,IAAAA,kBAAkB,CAACG,SAAS,IAAI,CAACA,SAAS,GAAG,CAAb,IAAkBb,MAAM,CAACc,MAAvC,CAAlB;AACH,GAH6B,EAG3B,CAACd,MAAD,CAH2B,CAA9B;AAKA,QAAMgB,GAAG,GAAGnB,OAAO,CACf,OAAO;AAAEe,IAAAA,cAAF;AAAkBG,IAAAA,UAAlB;AAA8BL,IAAAA;AAA9B,GAAP,CADe,EAEf,CAACE,cAAD,EAAiBG,UAAjB,EAA6BL,kBAA7B,CAFe,CAAnB;AAKA,QAAMO,KAAK,GAAG;AACVR,IAAAA,eADU;AAEVE,IAAAA;AAFU,GAAd;AAKA,SAAO,CAACM,KAAD,EAAQD,GAAR,CAAP;AACH,CAhCM","sourcesContent":["import { useCallback, useMemo, useState } from 'react';\n\nconst sortImages = (images = []) =>\n    images\n        .filter(({ disabled }) => !disabled)\n        .sort((a, b) => a.position - b.position);\n\n/**\n * A hook for interacting with the state of a carousel of images.\n *\n * @param {Array} images an array of image objects\n * @param {number} startIndex the index at which to start the carousel\n */\nexport const useCarousel = (images = [], startIndex = 0) => {\n    const [activeItemIndex, setActiveItemIndex] = useState(startIndex);\n\n    const sortedImages = useMemo(() => sortImages(images), [images]);\n\n    const handlePrevious = useCallback(() => {\n        // If we're on the first image we want to go to the last.\n        setActiveItemIndex(prevIndex => {\n            if (prevIndex > 0) {\n                return prevIndex - 1;\n            } else {\n                return images.length - 1;\n            }\n        });\n    }, [images]);\n\n    const handleNext = useCallback(() => {\n        // If we're on the last image we want to go to the first.\n        setActiveItemIndex(prevIndex => (prevIndex + 1) % images.length);\n    }, [images]);\n\n    const api = useMemo(\n        () => ({ handlePrevious, handleNext, setActiveItemIndex }),\n        [handlePrevious, handleNext, setActiveItemIndex]\n    );\n\n    const state = {\n        activeItemIndex,\n        sortedImages\n    };\n\n    return [state, api];\n};\n"]}