{"version":3,"sources":["cart.js"],"names":["handleActions","actions","name","initialState","addItemError","cartId","details","detailsError","getCartError","isLoading","isUpdatingItem","isAddingItem","removeItemError","shippingMethods","updateItemError","reducerMap","getCart","receive","state","payload","error","String","getDetails","request","addItem","updateItem","removeItem","reset"],"mappings":"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","sourcesContent":["import { handleActions } from 'redux-actions';\n\nimport actions from '../actions/cart';\n\nexport const name = 'cart';\n\nexport const initialState = {\n    addItemError: null,\n    cartId: null,\n    details: {},\n    detailsError: null,\n    getCartError: null,\n    isLoading: false,\n    isUpdatingItem: false,\n    isAddingItem: false,\n    removeItemError: null,\n    shippingMethods: [],\n    updateItemError: null\n};\n\nconst reducerMap = {\n    [actions.getCart.receive]: (state, { payload, error }) => {\n        if (error) {\n            return {\n                ...initialState,\n                getCartError: payload\n            };\n        }\n\n        return {\n            ...state,\n            cartId: String(payload),\n            getCartError: null\n        };\n    },\n    [actions.getDetails.request]: state => {\n        return {\n            ...state,\n            isLoading: true\n        };\n    },\n    [actions.getDetails.receive]: (state, { payload, error }) => {\n        if (error) {\n            return {\n                ...state,\n                detailsError: payload,\n                isLoading: false\n            };\n        }\n\n        return {\n            ...state,\n            // The only time we should spread the payload into the cart store\n            // is after we've fetched cart details.\n            ...payload,\n            isLoading: false\n        };\n    },\n    [actions.addItem.request]: state => {\n        return {\n            ...state,\n            isAddingItem: true\n        };\n    },\n    [actions.addItem.receive]: (state, { payload, error }) => {\n        if (error) {\n            return {\n                ...state,\n                addItemError: payload,\n                isAddingItem: false\n            };\n        }\n\n        return {\n            ...state,\n            isAddingItem: false\n        };\n    },\n    [actions.updateItem.request]: state => {\n        return {\n            ...state,\n            isUpdatingItem: true\n        };\n    },\n    [actions.updateItem.receive]: (state, { payload, error }) => {\n        if (error) {\n            return {\n                ...state,\n                isUpdatingItem: false,\n                updateItemError: payload\n            };\n        }\n\n        // We don't actually have to update any items here\n        // because we force a refresh from the server.\n        return {\n            ...state,\n            isUpdatingItem: false\n        };\n    },\n    [actions.removeItem.receive]: (state, { payload, error }) => {\n        if (error) {\n            return {\n                ...state,\n                removeItemError: payload\n            };\n        }\n        return {\n            ...state\n        };\n    },\n    [actions.reset]: () => initialState\n};\n\nexport default handleActions(reducerMap, initialState);\n"]}