{"version":3,"sources":["useCollapsedImageGallery.js"],"names":["useMemo","useQuery","useCollapsedImageGallery","props","imageCount","items","queries","getProductThumbnailsQuery","skus","map","item","product_sku","data","fetchPolicy","nextFetchPolicy","variables","imageData"],"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AAEA;;;;;;;;;;;AAUA,OAAO,MAAMC,wBAAwB,GAAGC,KAAK,IAAI;AAC7C,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,KAAd;AAAqBC,IAAAA;AAArB,MAAiCH,KAAvC;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAgCD,OAAtC;AAEA,QAAME,IAAI,GAAGR,OAAO,CAAC,MAAM;AACvB,WAAOK,KAAK,CAACI,GAAN,CAAUC,IAAI,IAAIA,IAAI,CAACC,WAAvB,CAAP;AACH,GAFmB,EAEjB,CAACN,KAAD,CAFiB,CAApB;AAIA,QAAM;AAAEO,IAAAA;AAAF,MAAWX,QAAQ,CAACM,yBAAD,EAA4B;AACjDM,IAAAA,WAAW,EAAE,mBADoC;AAEjDC,IAAAA,eAAe,EAAE,aAFgC;AAGjDC,IAAAA,SAAS,EAAE;AACPX,MAAAA,UADO;AAEPI,MAAAA;AAFO;AAHsC,GAA5B,CAAzB;AASA,SAAO;AACHQ,IAAAA,SAAS,EAAEJ;AADR,GAAP;AAGH,CApBM;AAsBP;;;;AAIA;;;;;;;;;;;AAWA","sourcesContent":["import { useMemo } from 'react';\nimport { useQuery } from '@apollo/client';\n\n/**\n * @function\n *\n * @param {Object} props\n * @param {Number} props.imageCount Count for how many images to fetch\n * @param {Array<Object>} props.items Collection of items in Order\n * @param {CollapsedImageGalleryQueries} props.queries GraphQL queries for Collapsed Image Gallery\n *\n * @returns {CollapsedImageGalleryTalonProps}\n */\nexport const useCollapsedImageGallery = props => {\n    const { imageCount, items, queries } = props;\n    const { getProductThumbnailsQuery } = queries;\n\n    const skus = useMemo(() => {\n        return items.map(item => item.product_sku);\n    }, [items]);\n\n    const { data } = useQuery(getProductThumbnailsQuery, {\n        fetchPolicy: 'cache-and-network',\n        nextFetchPolicy: 'cache-first',\n        variables: {\n            imageCount,\n            skus\n        }\n    });\n\n    return {\n        imageData: data\n    };\n};\n\n/**\n * JSDoc type definitions\n */\n\n/**\n * GraphQL queries for Collapsed Image Gallery\n *\n * @typedef {Object} CollapsedImageGalleryQueries\n *\n * @property {GraphQLAST} getProductThumbnailsQuery The query used to get product thumbnails for up to the first four items in the Order.\n *\n * @see [`collapsedImageGallery.gql.js`]{@link https://github.com/magento/pwa-studio/blob/develop/packages/venia-ui/lib/components/OrderHistoryPage/collapsedImageGallery.gql.js}\n * for queries used in Venia\n */\n\n/**\n * Props data to use when rendering a collapsed image gallery\n *\n * @typedef {Object} CollapsedImageGalleryTalonProps\n *\n * @property {Object} imageData Data response from calling getProductThumbnailsQuery\n */\n"]}