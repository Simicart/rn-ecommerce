{"version":3,"sources":["useCategoryList.js"],"names":["useEffect","useLazyQuery","useCategoryList","props","query","id","runQuery","queryResponse","loading","error","data","variables","childCategories","category","children"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,YAAT,QAA6B,gBAA7B;AAEA;;;;;;;;;AAQA,OAAO,MAAMC,eAAe,GAAGC,KAAK,IAAI;AACpC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAgBF,KAAtB;AAEA,QAAM,CAACG,QAAD,EAAWC,aAAX,IAA4BN,YAAY,CAACG,KAAD,CAA9C;AACA,QAAM;AAAEI,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BH,aAAjC,CAJoC,CAMpC;;AACAP,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,QAAQ,CAAC;AAAEK,MAAAA,SAAS,EAAE;AAAEN,QAAAA;AAAF;AAAb,KAAD,CAAR;AACH,GAFQ,EAEN,CAACA,EAAD,EAAKC,QAAL,CAFM,CAAT;AAIA,SAAO;AACHM,IAAAA,eAAe,EACVF,IAAI,IAAIA,IAAI,CAACG,QAAb,IAAyBH,IAAI,CAACG,QAAL,CAAcC,QAAxC,IAAqD,IAFtD;AAGHL,IAAAA,KAHG;AAIHD,IAAAA;AAJG,GAAP;AAMH,CAjBM","sourcesContent":["import { useEffect } from 'react';\nimport { useLazyQuery } from '@apollo/client';\n\n/**\n * Returns props necessary to render a CategoryList component.\n *\n * @param {object} props\n * @param {object} props.query - category data\n * @param {string} props.id - category id\n * @return {{ childCategories: array, error: object }}\n */\nexport const useCategoryList = props => {\n    const { query, id } = props;\n\n    const [runQuery, queryResponse] = useLazyQuery(query);\n    const { loading, error, data } = queryResponse;\n\n    // Run the query immediately and every time id changes.\n    useEffect(() => {\n        runQuery({ variables: { id } });\n    }, [id, runQuery]);\n\n    return {\n        childCategories:\n            (data && data.category && data.category.children) || null,\n        error,\n        loading\n    };\n};\n"]}