{"version":3,"sources":["usePaymentMethods.js"],"names":["usePaymentMethods","props","queries","getPaymentMethodsQuery","cartId","data","loading","skip","variables","value","currentSelectedPaymentMethod","availablePaymentMethods","cart","available_payment_methods","initialSelectedMethod","length","code","isLoading"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AAEO,MAAMA,iBAAiB,GAAGC,KAAK,IAAI;AACtC,QAAM;AAAEC,IAAAA;AAAF,MAAcD,KAApB;AACA,QAAM;AAAEE,IAAAA;AAAF,MAA6BD,OAAnC;AACA,QAAM,CAAC;AAAEE,IAAAA;AAAF,GAAD,IAAe,2BAArB;AAEA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoB,sBAASH,sBAAT,EAAiC;AACvDI,IAAAA,IAAI,EAAE,CAACH,MADgD;AAEvDI,IAAAA,SAAS,EAAE;AAAEJ,MAAAA;AAAF;AAF4C,GAAjC,CAA1B;AAKA,QAAM;AAAEK,IAAAA,KAAK,EAAEC;AAAT,MAA0C,6BAC5C,uBAD4C,CAAhD;AAIA,QAAMC,uBAAuB,GACxBN,IAAI,IAAIA,IAAI,CAACO,IAAL,CAAUC,yBAAnB,IAAiD,EADrD;AAGA,QAAMC,qBAAqB,GACtBH,uBAAuB,CAACI,MAAxB,IAAkCJ,uBAAuB,CAAC,CAAD,CAAvB,CAA2BK,IAA9D,IACA,IAFJ;AAIA,SAAO;AACHL,IAAAA,uBADG;AAEHD,IAAAA,4BAFG;AAGHI,IAAAA,qBAHG;AAIHG,IAAAA,SAAS,EAAEX;AAJR,GAAP;AAMH,CA3BM","sourcesContent":["import { useQuery } from '@apollo/client';\nimport { useFieldState } from 'informed';\n\nimport { useCartContext } from '../../../context/cart';\n\nexport const usePaymentMethods = props => {\n    const { queries } = props;\n    const { getPaymentMethodsQuery } = queries;\n    const [{ cartId }] = useCartContext();\n\n    const { data, loading } = useQuery(getPaymentMethodsQuery, {\n        skip: !cartId,\n        variables: { cartId }\n    });\n\n    const { value: currentSelectedPaymentMethod } = useFieldState(\n        'selectedPaymentMethod'\n    );\n\n    const availablePaymentMethods =\n        (data && data.cart.available_payment_methods) || [];\n\n    const initialSelectedMethod =\n        (availablePaymentMethods.length && availablePaymentMethods[0].code) ||\n        null;\n\n    return {\n        availablePaymentMethods,\n        currentSelectedPaymentMethod,\n        initialSelectedMethod,\n        isLoading: loading\n    };\n};\n"]}