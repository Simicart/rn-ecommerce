{"version":3,"sources":["clearStore.js"],"names":["clearStore","client","persistor","pause","purge","resume"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;AAaO,MAAMA,UAAU,GAAG,OAAOC,MAAP,EAAeC,SAAf,KAA6B;AACnD;AACAA,EAAAA,SAAS,CAACC,KAAV,GAFmD,CAInD;;AACA,QAAMD,SAAS,CAACE,KAAV,EAAN,CALmD,CAOnD;;AACA,QAAMH,MAAM,CAACD,UAAP,EAAN,CARmD,CAUnD;;AACAE,EAAAA,SAAS,CAACG,MAAV;AACH,CAZM","sourcesContent":["/**\n * Wipes the apollo cache in memory and persistence.\n *\n * According to Apollo's docs you should only have to call client.clearStore\n * but if you use a persistence layer such as apollo-cache-persist you MUST\n * pause and purge the persistor's buffer _before_ calling clear store otherwise\n * the data is immediately replayed into the client store from the persistor.\n *\n * See: https://github.com/apollographql/apollo-cache-persist/issues/34#issuecomment-371177206\n *\n * @param {ApolloClient} client apollo client instance\n * @param {PersistorInstance} persistor persistor instance\n */\nexport const clearStore = async (client, persistor) => {\n    // Pause automatic persistence.\n    persistor.pause();\n\n    // Delete everything in the storage provider.\n    await persistor.purge();\n\n    // Wipe the apollo store. Do not replay queries.\n    await client.clearStore();\n\n    // Resume automatic persistence.\n    persistor.resume();\n};\n"]}